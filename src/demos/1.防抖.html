<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>防抖</title>
        <!-- 引入lodash(全部功能都引入) -->
        <script src="./js/lodash.js"></script>
    </head>
    <body>
        <p>请输入搜索的内容: <input type="text" /></p>
        <script>
            // 防抖: 前面所有的触发都被取消, 最后一次执行在规定时间之后才会触发, 也就是说如果连续快速地触发只会触发一次
            let input = document.querySelector("input");
            // 文本发生变化立即执行
            /* input.oninput = function () {
                console.log("发请求");
            }; */
            input.oninput = _.debounce(function(){
                console.log("发请求");
            },1000);

            // lodash插件: 里面封装了函数防抖与节流的业务(闭包+延迟器)
            // 1.lodash函数库向外暴露_函数
            // console.log(_.debounce);
            /**
             *  _.debounce(func, wait, options)
             *      参数:
             *          func 需要防抖的函数
             *          wait 延迟的时间(毫秒)
             *          options 配置选项
             *      返回新的 debounced（防抖动）函数
             */
            /* let result = _.debounce(function () {
                console.log("我在1秒之后执行一次");
            }, 1000);
            result(); */
        </script>
    </body>
</html>
